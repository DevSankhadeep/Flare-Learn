{% extends "base.html" %}
{% block title %}Edit Profile | EduHub{% endblock %}

{% block content %}
<section class="max-w-4xl mx-auto px-6 py-12">
  <div class="bg-white shadow-lg rounded-2xl overflow-hidden">
    <!-- Header -->
    <div class="bg-indigo-600 px-6 py-4 flex justify-between items-center">
      <h2 class="text-xl font-semibold text-white">Edit Your Profile</h2>
      <a href="{% url 'home' %}" class="text-white text-2xl font-bold hover:text-gray-200">&times;</a>
    </div>

    <!-- Body -->
    <div class="flex flex-col md:flex-row">
      <!-- Left: Profile Photo -->
      <div class="md:w-1/3 flex flex-col items-center p-6 border-b md:border-b-0 md:border-r">
        <div class="w-32 h-32 rounded-full overflow-hidden shadow">
          {% if user.profile.photo %}
            <img src="{{ user.profile.photo.url }}" class="w-full h-full object-cover">
          {% else %}
            <img src="https://via.placeholder.com/150" class="w-full h-full object-cover">
          {% endif %}
        </div>
        <label class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg cursor-pointer hover:bg-indigo-700 transition">
          Change Photo
          <input type="file" name="photo" class="hidden">
        </label>
      </div>

      <!-- Right: Form -->
      <div class="md:w-2/3 p-6">
        <form method="POST" enctype="multipart/form-data" class="space-y-4">
          {% csrf_token %}

          <div>
            <label class="block text-sm font-medium text-gray-700">Name</label>
            <input type="text" name="name" value="{{ user.get_full_name }}" class="mt-1 block w-full border rounded-lg p-2" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Title</label>
            <input type="text" name="title" value="{{ user.profile.title }}" class="mt-1 block w-full border rounded-lg p-2" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Organization</label>
            <input type="text" name="organization" value="{{ user.profile.organization }}" class="mt-1 block w-full border rounded-lg p-2" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Work Phone</label>
            <input type="text" name="work_phone" value="{{ user.profile.work_phone }}" class="mt-1 block w-full border rounded-lg p-2" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Mobile Phone</label>
            <input type="text" name="mobile_phone" value="{{ user.profile.mobile_phone }}" class="mt-1 block w-full border rounded-lg p-2" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Email</label>
            <input type="email" name="email" value="{{ user.email }}" class="mt-1 block w-full border rounded-lg p-2" />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Default Edit Form View</label>
            <select name="default_view" class="mt-1 block w-full border rounded-lg p-2">
              <option value="">[No Default View]</option>
              <option value="compact">Compact</option>
              <option value="detailed">Detailed</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Notifications</label>
            <select name="notifications" class="mt-1 block w-full border rounded-lg p-2">
              <option value="all">All</option>
              <option value="none">None</option>
              <option value="none">None</option>
            </select>
          </div>

          <!-- Buttons -->
          <div class="flex justify-end space-x-4 mt-6">
            <a href="{% url 'home' %}" class="px-6 py-2 border border-gray-400 text-gray-600 rounded-lg hover:bg-gray-100 transition">
              Cancel
            </a>
            <button type="submit"
                    class="px-6 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition">
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}
